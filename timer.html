<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Timer & Stopwatch</title>
  <link rel="icon" type="image/png" href="pics/admin_logo.png">

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            brandOrange: '#dd3f00',
            brandDark: '#1a1a1a'
          }
        }
      }
    }
  </script>
</head>
<body class="min-h-screen bg-gradient-to-br from-brandOrange via-orange-400 to-yellow-300 dark:from-gray-900 dark:via-gray-800 dark:to-gray-700 flex flex-col transition-colors duration-500">

  <!-- Header -->
  <header class="p-4 flex justify-between items-center bg-white dark:bg-gray-800 shadow-md rounded-b-2xl">
    <div class="flex items-center gap-3">
      <img src="pics/admin_logo.png" class="w-10 h-10 rounded-full shadow" alt="logo">
      <h1 class="font-bold text-xl text-black dark:text-white">Timer & Stopwatch</h1>
    </div>
    <div class="flex items-center gap-3">
      <a href="index.html" class="px-3 py-1.5 rounded-xl bg-gray-200 dark:bg-gray-700 text-sm text-black dark:text-white shadow hover:scale-105 transition">‚Üê Back</a>
      <button id="dark-toggle" class="px-3 py-1.5 rounded-xl bg-gray-200 dark:bg-gray-700 text-sm text-black dark:text-white shadow hover:scale-105 transition">üåô</button>
    </div>
  </header>

  <!-- Main -->
  <main class="flex-1 flex flex-col md:flex-row gap-6 p-6 justify-center items-stretch">

    <!-- TIMER -->
    <section class="flex-1 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-6 flex flex-col items-center">
      <h2 class="text-2xl font-bold text-black dark:text-white mb-6">‚è≥ Timer</h2>
      <div class="flex gap-2 mb-4">
        <input type="number" id="hours" placeholder="HH" class="w-16 text-center rounded-lg border p-2 dark:bg-gray-700 dark:text-white">
        <input type="number" id="minutes" placeholder="MM" class="w-16 text-center rounded-lg border p-2 dark:bg-gray-700 dark:text-white">
        <input type="number" id="seconds" placeholder="SS" class="w-16 text-center rounded-lg border p-2 dark:bg-gray-700 dark:text-white">
      </div>
      <select id="ringtone" class="rounded-xl border px-3 py-2 mb-6 dark:bg-gray-700 dark:text-white">
        <option value="sound/ringtone1.mp3">Ringtone 1</option>
        <option value="sound/ringtone2.mp3">Ringtone 2</option>
        <option value="sound/ringtone3.mp3">Ringtone 3</option>
      </select>
      <div id="timer-display" class="text-5xl font-extrabold text-black dark:text-white mb-6">00:00:00</div>
      <div class="flex flex-wrap justify-center gap-3">
        <button onclick="startTimer()" class="px-4 py-2 bg-black text-white rounded-lg shadow hover:scale-105 transition">Start</button>
        <button onclick="stopTimer()" class="px-4 py-2 bg-red-500 text-white rounded-lg shadow hover:scale-105 transition">Stop</button>
        <button onclick="resetTimer()" class="px-4 py-2 bg-gray-500 text-white rounded-lg shadow hover:scale-105 transition">Reset</button>
      </div>
    </section>

    <!-- STOPWATCH -->
    <section class="flex-1 bg-white dark:bg-gray-800 rounded-3xl shadow-2xl p-6 flex flex-col items-center">
      <h2 class="text-2xl font-bold text-black dark:text-white mb-6">‚è± Stopwatch</h2>
      <div id="stopwatch-display" class="text-5xl font-extrabold text-black dark:text-white mb-6">00:00:00</div>
      <div class="flex flex-wrap justify-center gap-3 mb-6">
        <button onclick="startStopwatch()" class="px-4 py-2 bg-black text-white rounded-lg shadow hover:scale-105 transition">Start</button>
        <button onclick="stopStopwatch()" class="px-4 py-2 bg-red-500 text-white rounded-lg shadow hover:scale-105 transition">Stop</button>
        <button onclick="resetStopwatch()" class="px-4 py-2 bg-gray-500 text-white rounded-lg shadow hover:scale-105 transition">Reset</button>
      </div>
      <div class="flex flex-wrap justify-center gap-3">
        <button onclick="playBackground()" class="px-4 py-2 bg-green-500 text-white rounded-lg shadow hover:scale-105 transition">‚ñ∂ Background</button>
        <button onclick="stopBackground()" class="px-4 py-2 bg-red-500 text-white rounded-lg shadow hover:scale-105 transition">‚èπ Stop Music</button>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer class="w-full py-3 text-center text-xs sm:text-sm text-white dark:text-gray-300 bg-black dark:bg-gray-800 rounded-t-2xl">
    ¬© Pirmaxmatov 2025 ‚Äî Timer & Stopwatch
  </footer>

  <!-- Scripts -->
  <script>
    // Dark mode toggle
    document.getElementById('dark-toggle').onclick = () => {
      document.documentElement.classList.toggle('dark');
    };

    // TIMER
    let timerInterval, timerSound, tickTimer;
    function startTimer() {
      stopTimer();
      let h = parseInt(document.getElementById('hours').value) || 0;
      let m = parseInt(document.getElementById('minutes').value) || 0;
      let s = parseInt(document.getElementById('seconds').value) || 0;
      let total = h*3600 + m*60 + s;
      const ringtone = document.getElementById('ringtone').value;

      tickTimer = new Audio("sound/tick.mp3");

      timerInterval = setInterval(() => {
        if (total <= 0) {
          clearInterval(timerInterval);
          document.getElementById('timer-display').textContent = "00:00:00";
          timerSound = new Audio(ringtone);
          timerSound.play();
        } else {
          total--;
          let hh = String(Math.floor(total/3600)).padStart(2,'0');
          let mm = String(Math.floor((total%3600)/60)).padStart(2,'0');
          let ss = String(total%60).padStart(2,'0');
          document.getElementById('timer-display').textContent = `${hh}:${mm}:${ss}`;
          tickTimer.play().catch(()=>{});
        }
      }, 1000);
    }
    function stopTimer() { clearInterval(timerInterval); if (timerSound) timerSound.pause(); if(tickTimer) tickTimer.pause(); }
    function resetTimer() { stopTimer(); document.getElementById('timer-display').textContent = "00:00:00"; }

    // STOPWATCH
    let swInterval, swTime = 0, bgMusic, tick;
    function startStopwatch() {
      stopStopwatch();
      tick = new Audio("sound/tick.mp3");
      swInterval = setInterval(() => {
        swTime++;
        let hh = String(Math.floor(swTime/3600)).padStart(2,'0');
        let mm = String(Math.floor((swTime%3600)/60)).padStart(2,'0');
        let ss = String(swTime%60).padStart(2,'0');
        document.getElementById('stopwatch-display').textContent = `${hh}:${mm}:${ss}`;
        tick.play().catch(()=>{});
      }, 1000);
    }
    function stopStopwatch() { clearInterval(swInterval); if(tick) tick.pause(); }
    function resetStopwatch() { stopStopwatch(); swTime=0; document.getElementById('stopwatch-display').textContent="00:00:00"; }

    // Background music
    function playBackground() {
      bgMusic = new Audio("sound/background.mp3");
      bgMusic.loop = true;
      bgMusic.play();
    }
    function stopBackground() { if(bgMusic) bgMusic.pause(); }
  </script>
</body>
</html>
